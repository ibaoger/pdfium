{
  "comments": [
    {
      "key": {
        "uuid": "291fd659_d94f581a",
        "filename": "testing/tools/safetynet_measure.py",
        "patchSetId": 21
      },
      "lineNbr": 27,
      "author": {
        "id": 5045
      },
      "writtenOn": "2017-07-20T05:02:49Z",
      "side": 1,
      "message": "This assumes the current working directory is the PDFium source\u0027s base dir, but there\u0027s no guarantee of that being the case. How about we assume the PDFium source\u0027s base dir is 2 levels up from safetynet_measure.py. Figure that out and then join the rest of the path to it.",
      "revId": "3dfafd45ab5ce1145d431c26df61afaefc1da364",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "61227409_872044cc",
        "filename": "testing/tools/safetynet_measure.py",
        "patchSetId": 21
      },
      "lineNbr": 27,
      "author": {
        "id": 7035
      },
      "writtenOn": "2017-07-20T15:00:37Z",
      "side": 1,
      "message": "Isn\u0027t the restriction \"PDFium src base dir is 2 levels up from safetynet_measure.py\" more convoluted than \"run this from the PDFium src base dir\"? Not that it\u0027s ideal and I plan to fix this in the future, but it sounds worse to presume the location of safetynet_measure.py.",
      "parentUuid": "291fd659_d94f581a",
      "revId": "3dfafd45ab5ce1145d431c26df61afaefc1da364",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "61a6ff69_915de0eb",
        "filename": "testing/tools/safetynet_measure.py",
        "patchSetId": 21
      },
      "lineNbr": 27,
      "author": {
        "id": 5045
      },
      "writtenOn": "2017-07-21T08:46:03Z",
      "side": 1,
      "message": "Were you planning on moving safetynet_measure.py around in the other CL? Normally scripts stay in one place and it\u0027s fairly safe to assume where the base dir is relative to that. We do it in our build files, for instance.\n\nNowhere does it say this script must run from the PDFium base dir. You may want to make it more explicit.",
      "parentUuid": "61227409_872044cc",
      "revId": "3dfafd45ab5ce1145d431c26df61afaefc1da364",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7e64880c_ea7cbe77",
        "filename": "testing/tools/safetynet_measure.py",
        "patchSetId": 21
      },
      "lineNbr": 27,
      "author": {
        "id": 7035
      },
      "writtenOn": "2017-07-21T14:25:06Z",
      "side": 1,
      "message": "Sorry, I was thinking of the other script (safetynet_compare.py). This one does not need to be run from the pdf root, as long as --build-dir is passed with the path to wherever the desired build dir is.\n\nI don\u0027t think this arg should be relative to the the root because:\n- this feels unexpected to me - why would an arg be relative to a specific dir rather than the current work dir, while the others are not?\n- bash autocomplete works better with paths relative to the work dir",
      "parentUuid": "61a6ff69_915de0eb",
      "revId": "3dfafd45ab5ce1145d431c26df61afaefc1da364",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2605cfb8_a2dac85c",
        "filename": "testing/tools/safetynet_measure.py",
        "patchSetId": 21
      },
      "lineNbr": 27,
      "author": {
        "id": 5045
      },
      "writtenOn": "2017-07-21T18:51:29Z",
      "side": 1,
      "message": "Wait, this one _does_ need to be run from the pdf root. If I run it from within testing/tools as ../../testing/tools/safetynet_measure.py --build-dir out/Release ..., or ./safetynet_measure.py ..., it doesn\u0027t work. I have to pass --build-dir ../../out/Release, contrary to what --help says.",
      "parentUuid": "7e64880c_ea7cbe77",
      "revId": "3dfafd45ab5ce1145d431c26df61afaefc1da364",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "def6dbff_3d79d1ed",
        "filename": "testing/tools/safetynet_measure.py",
        "patchSetId": 21
      },
      "lineNbr": 29,
      "author": {
        "id": 5045
      },
      "writtenOn": "2017-07-20T05:02:49Z",
      "side": 1,
      "message": "Do you want to check and see if the selected profiler exists here, or just let it attempt to run and fail?",
      "revId": "3dfafd45ab5ce1145d431c26df61afaefc1da364",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b06aa8ef_4f68dc30",
        "filename": "testing/tools/safetynet_measure.py",
        "patchSetId": 21
      },
      "lineNbr": 29,
      "author": {
        "id": 7035
      },
      "writtenOn": "2017-07-20T15:00:37Z",
      "side": 1,
      "message": "This is going to be called repeatedly and it\u0027s not a cheap check, so I\u0027d rather let it fail on this particular script.",
      "parentUuid": "def6dbff_3d79d1ed",
      "revId": "3dfafd45ab5ce1145d431c26df61afaefc1da364",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "94b25970_a1d6fd19",
        "filename": "testing/tools/safetynet_measure.py",
        "patchSetId": 21
      },
      "lineNbr": 72,
      "author": {
        "id": 5045
      },
      "writtenOn": "2017-07-20T05:02:49Z",
      "side": 1,
      "message": "Probably don\u0027t need the parenthesis.",
      "revId": "3dfafd45ab5ce1145d431c26df61afaefc1da364",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a2c630c_77d1d4b1",
        "filename": "testing/tools/safetynet_measure.py",
        "patchSetId": 21
      },
      "lineNbr": 72,
      "author": {
        "id": 7035
      },
      "writtenOn": "2017-07-20T15:00:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "94b25970_a1d6fd19",
      "revId": "3dfafd45ab5ce1145d431c26df61afaefc1da364",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "14fdfe5b_7e86932c",
        "filename": "testing/tools/safetynet_measure.py",
        "patchSetId": 21
      },
      "lineNbr": 73,
      "author": {
        "id": 5045
      },
      "writtenOn": "2017-07-20T05:02:49Z",
      "side": 1,
      "message": "Do you want to just set the default in the output-path parser.add_argument() call?",
      "revId": "3dfafd45ab5ce1145d431c26df61afaefc1da364",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5dcec2cb_063e8232",
        "filename": "testing/tools/safetynet_measure.py",
        "patchSetId": 21
      },
      "lineNbr": 73,
      "author": {
        "id": 7035
      },
      "writtenOn": "2017-07-20T15:00:37Z",
      "side": 1,
      "message": "I like this for two reasons:\n- Checking \"if args.output_path\" works, even though I don\u0027t for now\n- When I have a profiler that runs on Windows, it will make more sense",
      "parentUuid": "14fdfe5b_7e86932c",
      "revId": "3dfafd45ab5ce1145d431c26df61afaefc1da364",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "40adb198_d714d867",
        "filename": "testing/tools/safetynet_measure.py",
        "patchSetId": 21
      },
      "lineNbr": 104,
      "author": {
        "id": 5045
      },
      "writtenOn": "2017-07-20T05:02:49Z",
      "side": 1,
      "message": "We do this when calling from _RunPerfStat() as well. Does it matter?",
      "revId": "3dfafd45ab5ce1145d431c26df61afaefc1da364",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7b66af73_612ec049",
        "filename": "testing/tools/safetynet_measure.py",
        "patchSetId": 21
      },
      "lineNbr": 104,
      "author": {
        "id": 7035
      },
      "writtenOn": "2017-07-20T15:00:37Z",
      "side": 1,
      "message": "Changed the script to warn if --interesting-section was passed without callgrind. I\u0027m divided about whether to let it break and make it clear that it does not do anything with perf stat vs silently ignore because it\u0027s not important. Opting for the former on the current version. WDYT?",
      "parentUuid": "40adb198_d714d867",
      "revId": "3dfafd45ab5ce1145d431c26df61afaefc1da364",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "08ae849a_3162a0a5",
        "filename": "testing/tools/safetynet_measure.py",
        "patchSetId": 21
      },
      "lineNbr": 130,
      "author": {
        "id": 5045
      },
      "writtenOn": "2017-07-20T05:02:49Z",
      "side": 1,
      "message": "Mention this is only for Callgrind?",
      "revId": "3dfafd45ab5ce1145d431c26df61afaefc1da364",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d5c3948b_ffb1204e",
        "filename": "testing/tools/safetynet_measure.py",
        "patchSetId": 21
      },
      "lineNbr": 130,
      "author": {
        "id": 7035
      },
      "writtenOn": "2017-07-20T15:00:37Z",
      "side": 1,
      "message": "Done. Also added checks for this.",
      "parentUuid": "08ae849a_3162a0a5",
      "revId": "3dfafd45ab5ce1145d431c26df61afaefc1da364",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    }
  ]
}