{
  "comments": [
    {
      "key": {
        "uuid": "7cf17d18_d9f2b07e",
        "filename": "fpdfsdk/fpdftext.cpp",
        "patchSetId": 1
      },
      "lineNbr": 165,
      "author": {
        "id": 5495
      },
      "writtenOn": "2017-08-31T19:24:44Z",
      "side": 1,
      "message": "Count of 0 should return a null string",
      "range": {
        "startLine": 165,
        "startChar": 19,
        "endLine": 165,
        "endChar": 28
      },
      "revId": "e5f4c37a5f847979d8889f91b65796ed6028a831",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5442a215_eab97e53",
        "filename": "fpdfsdk/fpdftext.cpp",
        "patchSetId": 1
      },
      "lineNbr": 165,
      "author": {
        "id": 5495
      },
      "writtenOn": "2017-08-31T19:26:03Z",
      "side": 1,
      "message": "NM.  Getting a 0 is as close to error return as we come, so this is OK.",
      "parentUuid": "7cf17d18_d9f2b07e",
      "range": {
        "startLine": 165,
        "startChar": 19,
        "endLine": 165,
        "endChar": 28
      },
      "revId": "e5f4c37a5f847979d8889f91b65796ed6028a831",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "26a0c1de_5194715a",
        "filename": "fpdfsdk/fpdftext.cpp",
        "patchSetId": 1
      },
      "lineNbr": 165,
      "author": {
        "id": 7065
      },
      "writtenOn": "2017-08-31T20:15:47Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "5442a215_eab97e53",
      "range": {
        "startLine": 165,
        "startChar": 19,
        "endLine": 165,
        "endChar": 28
      },
      "revId": "e5f4c37a5f847979d8889f91b65796ed6028a831",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "026f0cf0_2c1ecd14",
        "filename": "fpdfsdk/fpdftext.cpp",
        "patchSetId": 1
      },
      "lineNbr": 165,
      "author": {
        "id": 5045
      },
      "writtenOn": "2017-11-23T10:40:16Z",
      "side": 1,
      "message": "I should\u0027ve chimed in. If count \u003d 0, wasn\u0027t the previous behavior to return 1 and write L\"\" AKA \\0\\0 into |*result|? I think that\u0027s better than returning 0.\n\nTo advocate for my POV, let\u0027s say the text page contains \"hello\". With this CL and some edge cases:\n\nFPDFText_GetText(text_page, 0, -1, buf) returns 0, |buf| is untouched.\nFPDFText_GetText(text_page, 0, 0, buf) returns 0, |buf| is untouched.\nFPDFText_GetText(text_page, 0, 1, buf) returns 2, |buf| contains \\0h\\0\\0 AKA L\"h\"\n\nMy proposed behavior is:\n\nFPDFText_GetText(text_page, 0, -1, buf) returns 0, |buf| is untouched.\nFPDFText_GetText(text_page, 0, 0, buf) returns 1, |buf| contains \\0\\0 AKA L\"\"\nFPDFText_GetText(text_page, 0, 1, buf) returns 2, |buf| contains \\0h\\0\\0 AKA L\"h\"\n\nWhich has a smoother progression.\n\nAlso using std::string as an example:\n\nlen \u003d 0: std::string empty; empty.c_str() returns \"\" (not nullptr) and sizeof(\"\") is 1\nlen \u003d 1: std::string one(\"h\"); one.c_str() returns \"h\", sizeof(\"h\") is 2",
      "parentUuid": "26a0c1de_5194715a",
      "range": {
        "startLine": 165,
        "startChar": 19,
        "endLine": 165,
        "endChar": 28
      },
      "revId": "e5f4c37a5f847979d8889f91b65796ed6028a831",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "92a8a6b3_ef0ba21d",
        "filename": "fpdfsdk/fpdftext.cpp",
        "patchSetId": 1
      },
      "lineNbr": 172,
      "author": {
        "id": 5495
      },
      "writtenOn": "2017-08-31T19:33:09Z",
      "side": 1,
      "message": "Maybe ASSERT that string length \u003c\u003d 0 count.",
      "range": {
        "startLine": 172,
        "startChar": 2,
        "endLine": 172,
        "endChar": 16
      },
      "revId": "e5f4c37a5f847979d8889f91b65796ed6028a831",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b9e3dc30_826196d9",
        "filename": "fpdfsdk/fpdftext.cpp",
        "patchSetId": 1
      },
      "lineNbr": 172,
      "author": {
        "id": 7065
      },
      "writtenOn": "2017-08-31T20:15:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "92a8a6b3_ef0ba21d",
      "range": {
        "startLine": 172,
        "startChar": 2,
        "endLine": 172,
        "endChar": 16
      },
      "revId": "e5f4c37a5f847979d8889f91b65796ed6028a831",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "55049ffd_2c4fc6fe",
        "filename": "fpdfsdk/fpdftext.cpp",
        "patchSetId": 1
      },
      "lineNbr": 173,
      "author": {
        "id": 5495
      },
      "writtenOn": "2017-08-31T19:33:09Z",
      "side": 1,
      "message": "nit:  maybe add a comment that UFT16LE_Encode doesn\u0027t handle surrogate pairs properly, so we expect the number of items to stay the same.",
      "range": {
        "startLine": 173,
        "startChar": 34,
        "endLine": 173,
        "endChar": 48
      },
      "revId": "e5f4c37a5f847979d8889f91b65796ed6028a831",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "17c76337_dfa5fd1a",
        "filename": "fpdfsdk/fpdftext.cpp",
        "patchSetId": 1
      },
      "lineNbr": 173,
      "author": {
        "id": 7065
      },
      "writtenOn": "2017-08-31T20:15:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "55049ffd_2c4fc6fe",
      "range": {
        "startLine": 173,
        "startChar": 34,
        "endLine": 173,
        "endChar": 48
      },
      "revId": "e5f4c37a5f847979d8889f91b65796ed6028a831",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "79fbf62d_82e2b2b2",
        "filename": "fpdfsdk/fpdftext.cpp",
        "patchSetId": 1
      },
      "lineNbr": 174,
      "author": {
        "id": 5495
      },
      "writtenOn": "2017-08-31T19:33:09Z",
      "side": 1,
      "message": "maybe assert cbUTF16str.GetLength() / sizeof(unsigned short) \u003c\u003d count",
      "range": {
        "startLine": 174,
        "startChar": 2,
        "endLine": 174,
        "endChar": 8
      },
      "revId": "e5f4c37a5f847979d8889f91b65796ed6028a831",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c5e2d93d_558f40ac",
        "filename": "fpdfsdk/fpdftext.cpp",
        "patchSetId": 1
      },
      "lineNbr": 174,
      "author": {
        "id": 7065
      },
      "writtenOn": "2017-08-31T20:15:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "79fbf62d_82e2b2b2",
      "range": {
        "startLine": 174,
        "startChar": 2,
        "endLine": 174,
        "endChar": 8
      },
      "revId": "e5f4c37a5f847979d8889f91b65796ed6028a831",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3e65af95_7272f7e3",
        "filename": "fpdfsdk/fpdftext.cpp",
        "patchSetId": 1
      },
      "lineNbr": 176,
      "author": {
        "id": 5495
      },
      "writtenOn": "2017-08-31T19:28:05Z",
      "side": 1,
      "message": "nit:  Seems pointless.  We\u0027re about to destroy the string anyways, and this doesn\u0027t adjust length.",
      "range": {
        "startLine": 176,
        "startChar": 2,
        "endLine": 176,
        "endChar": 51
      },
      "revId": "e5f4c37a5f847979d8889f91b65796ed6028a831",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4aa8706a_8e4b65f7",
        "filename": "fpdfsdk/fpdftext.cpp",
        "patchSetId": 1
      },
      "lineNbr": 176,
      "author": {
        "id": 7065
      },
      "writtenOn": "2017-08-31T20:15:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3e65af95_7272f7e3",
      "range": {
        "startLine": 176,
        "startChar": 2,
        "endLine": 176,
        "endChar": 51
      },
      "revId": "e5f4c37a5f847979d8889f91b65796ed6028a831",
      "serverId": "fca2d64a-0420-3532-b200-12848c95a47b",
      "unresolved": false
    }
  ]
}